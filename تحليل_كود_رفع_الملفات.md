# ุชุญููู ููุฏ ุฑูุน ุงูุตูุฑ ูุงููููุงุช PDF ูู ูุธุงู ุงูุชูุงุฑูุฑ

## ๐ ููุฎุต ุงูุญุงูุฉ ุงูุญุงููุฉ

### โ ูุง ูุนูู ุจุดูู ุตุญูุญ:

#### 1. ุฅุนุฏุงุฏ Multer ูู ุงูุฎุงุฏู
```javascript
// backend/src/routes/reportRoutes.js
const upload = multer({ 
  storage,
  fileFilter,
  limits: {
    fileSize: 10 * 1024 * 1024 // 10MB ููุชูุงุฑูุฑ
  }
});
```

#### 2. ููุชุฑ ุงููููุงุช
```javascript
const fileFilter = (req, file, cb) => {
  if (file.mimetype === 'application/pdf' || file.mimetype.startsWith('image/')) {
    cb(null, true);
  } else {
    cb(new Error('ูุณูุญ ููุท ุจูููุงุช PDF ูุงูุตูุฑ'), false);
  }
};
```

#### 3. ูุนุงูุฌุฉ ุงููููุงุช ูู Controller
```javascript
// backend/src/controllers/reportController.js
if (req.files) {
  if (req.files.pdfFile && req.files.pdfFile[0]) {
    finalPdfUrl = `/uploads/${req.files.pdfFile[0].filename}`;
  }
  if (req.files.thumbnail && req.files.thumbnail[0]) {
    finalThumbnail = `/uploads/${req.files.thumbnail[0].filename}`;
  }
}
```

#### 4. ุฑูุน ุงููููุงุช ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
```javascript
// frontend/src/pages/admin/AddReport.js
const uploadProps = {
  name: 'file',
  action: 'http://localhost:5000/api/upload',
  showUploadList: false,
  headers: {
    Authorization: `Bearer ${localStorage.getItem('admin_token')}`
  }
};
```

#### 5. ูุนุงูุฌุฉ ุงูุงุณุชุฌุงุจุฉ
```javascript
const handleImageUpload = async (info) => {
  if (info.file.status === 'done') {
    const url = info.file.response?.url;
    if (url) {
      setImageUrl(url);
      message.success('ุชู ุฑูุน ุงูุตูุฑุฉ ุจูุฌุงุญ');
    }
  }
};
```

#### 6. ุฅุฑุณุงู ุงูุจูุงูุงุช ูุน URLs
```javascript
const reportData = {
  title: values.title,
  summary: values.summary,
  content: fixedContent,
  pdfUrl: pdfUrl,        // URL ูู ุฑูุน ุงูููู
  thumbnail: imageUrl,   // URL ูู ุฑูุน ุงูุตูุฑุฉ
  publishDate: values.publishDate.toISOString(),
  status: 'draft'
};
```

#### 7. ุฎุฏูุฉ ุงููููุงุช ุงูุซุงุจุชุฉ
```javascript
// backend/src/server.js
app.use('/uploads', express.static(path.join(__dirname, '../uploads')));
```

## ๐ง ุขููุฉ ุงูุนูู ุงูุญุงููุฉ

### 1. ุฑูุน ุงููููุงุช
1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ููู (ุตูุฑุฉ ุฃู PDF)
2. ูุชู ุฑูุน ุงูููู ุนุจุฑ `/api/upload`
3. ุงูุฎุงุฏู ูุญูุธ ุงูููู ูู `backend/uploads/`
4. ูุชู ุฅุฑุฌุงุน URL ููููู ุงููุฑููุน
5. ูุชู ุญูุธ URL ูู ุญุงูุฉ ุงููููู

### 2. ุญูุธ ุงูุชูุฑูุฑ
1. ูุชู ุฅุฑุณุงู ุจูุงูุงุช ุงูุชูุฑูุฑ ูู JSON
2. ูุชุถูู JSON URLs ูููููุงุช ุงููุฑููุนุฉ
3. ุงูุฎุงุฏู ูุญูุธ URLs ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
4. ูุชู ุฑุจุท ุงููููุงุช ุจุงูุชูุฑูุฑ

### 3. ุนุฑุถ ุงููููุงุช
1. ุงูุตูุฑ ุชุนุฑุถ ูุจุงุดุฑุฉ ูู URL ุงููุญููุธ
2. ูููุงุช PDF ุชุธูุฑ ูุฑูุงุจุท ููุชุญููู
3. ุงููููุงุช ุชุฎุฏู ูู ูุฌูุฏ `uploads`

## โ ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช

### 1. ูุฌูุฏ uploads
- โ ููุฌูุฏ ูู `backend/uploads/`
- โ ูุฎุฏู ูู `/uploads` ูู ุงูุฎุงุฏู

### 2. ุตูุงุญูุงุช ุงููููุงุช
- โ ุงูุญุฏ ุงูุฃูุตู: 10 ููุฌุงุจุงูุช
- โ ุงูุฃููุงุน ุงููุฏุนููุฉ: PDF ูุงูุตูุฑ
- โ ุฃุณูุงุก ูุฑูุฏุฉ ูููููุงุช

### 3. ุงูุฃูุงู
- โ ูุตุงุฏูุฉ ูุทููุจุฉ ููุฑูุน
- โ ุตูุงุญูุงุช ุฏูุฑ ูุทููุจุฉ
- โ ููุชุฑุฉ ุฃููุงุน ุงููููุงุช

### 4. ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก Multer
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- โ ุชุญูู ูู ุญุฌู ุงููููุงุช

## ๐ฏ ุงููุชูุฌุฉ

**ุงูููุฏ ูุนูู ุจุดูู ุตุญูุญ** ููุฌุจ ุฃู ูููู ุจู:
- โ ุฑูุน ุงูุตูุฑ ูุงููููุงุช PDF
- โ ุญูุธ URLs ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุนุฑุถ ุงููููุงุช ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
- โ ุฅููุงููุฉ ุชุญููู ูููุงุช PDF

## ๐ก ููุงุญุธุงุช ูููุฉ

1. **ุงููุณุงุฑ ุงููุทูู**: ุชู ุงุณุชุฎุฏุงู `http://localhost:5000/api/upload` ุจุฏูุงู ูู `/api/upload`
2. **ูุนุงูุฌุฉ ูุฒุฏูุฌุฉ**: ุงูููุฏ ูุฏุนู ุฑูุน ูููุงุช ูุนููุฉ ู URLs
3. **ููุชุฑุฉ ุงููููุงุช**: ูุชู ุงูุชุญูู ูู ููุน ูุญุฌู ุงููููุงุช
4. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ููุฌุฏ ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก

## ๐ ููุชุฃูุฏ ูู ุงูุนูู

1. ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู ุนูู ุงููููุฐ 5000
2. ุชุฃูุฏ ูู ูุฌูุฏ ูุฌูุฏ `backend/uploads/`
3. ุชุฃูุฏ ูู ุตูุงุญูุงุช ุงููุชุงุจุฉ ูู ุงููุฌูุฏ
4. ุงุฎุชุจุฑ ุฑูุน ูููุงุช ุตุบูุฑุฉ ุฃููุงู
5. ุชุญูู ูู ุณุฌูุงุช ุงูุฎุงุฏู ููุฃุฎุทุงุก 